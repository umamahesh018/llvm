version: 1.0.{build}

environment:
  matrix:
    - CONFIGURATION: Release

branches:
  only:
    - main

image: Visual Studio 2022

build_script:
  - ps: |
          mkdir llvm-project.git-11.1.0
          cd llvm-project.git-11.1.0
          git clone https://github.com/llvm/llvm-project.git .
          git checkout llvmorg-11.1.0
          mkdir build
          cd build
      # Build script commands
      # llvm-config --version
      # Get-ChildItem -Path C:\ -Filter "LLVMConfig.cmake" -Recurse -ErrorAction SilentlyContinue
      #Get-ChildItem -Path C:\ -Filter "llvm-config.cmake" -Recurse -ErrorAction SilentlyContinue
      # mkdir hello-clangtool.git
      # cd hello-clangtool.git
      # git clone https://github.com./dougpuob/hello-clangtool.git .
      # cd build-with-prebuilt
      # mkdir build
      # cd build
      # $env:LLVM_DIR = "C:\Program Files\LLVM\lib\cmake\llvm"
      # $env:CMAKE_PREFIX_PATH = "C:\Program Files\LLVM"
      # cmake -G "Visual Studio 17 2022" -A x64 .. -DLLVM_INSTALL_DIR="C:\Program Files\LLVM\lib\cmake\llvm"
      # cmake --build . --config Release
